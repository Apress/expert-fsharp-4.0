(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(t,u){return c.Put(function(){return function(w){return w;};},t,u);},Branch:function(x,y,z){return{Node:x,Left:y,Right:z,Height:1+d.Max(y==null?0:y.Height,z==null?0:z.Height),Count:1+(y==null?0:y.Count)+(z==null?0:z.Count)};},Build:function(A,B,C){var D,E,F,G;D=C-B+1;if(D<=0){return null;}else{E=(B+C)/2>>0;F=c.Build(A,B,E-1);G=c.Build(A,E+1,C);return c.Branch(A[E],F,G);}},Contains:function(H,I){return!((c.Lookup(H,I))[0]==null);},Enumerate:function(J,K){var L;L=$.Tupled(function(M){var N,O,P,Q,R;N=M[0];O=M[1];if(N==null){if(O.$==1){P=O.$0[0];Q=O.$1;R=O.$0[1];return{$:1,$0:[P,[R,Q]]};}else{return{$:0};}}else{if(J){return L([N.Right,$.New(f,{$:1,$0:[N.Node,N.Left],$1:O})]);}else{return L([N.Left,$.New(f,{$:1,$0:[N.Node,N.Right],$1:O})]);}}});return g.unfold(L,[K,$.New(f,{$:0})]);},Lookup:function(S,T){var U,V,W,X;U=[[]];V=[T];W=[true];while(W[0]){if(V[0]==null){W[0]=false;}else{X=d.Compare(S,V[0].Node);if(X===0){W[0]=false;}else{if(X===1){U[0].unshift([true,V[0].Node,V[0].Left]);V[0]=V[0].Right;}else{U[0].unshift([false,V[0].Node,V[0].Right]);V[0]=V[0].Left;}}}}return[V[0],U[0]];},OfSeq:function(Y){var Z;Z=h.sort(g.toArray(g.distinct(Y)));return c.Build(Z,0,Z.length-1);},Put:function(_0,_1,_2){var _3,_4,_5;_3=c.Lookup(_1,_2);_4=_3[0];_5=_3[1];if(_4==null){return c.Rebuild(_5,c.Branch(_1,null,null));}else{return c.Rebuild(_5,c.Branch((_0(_4.Node))(_1),_4.Left,_4.Right));}},Rebuild:function(_6,_7){var _8,_,ba,bb,bc,bd,be,bf,bg,bh;_8=function(_9){if(_9==null){return 0;}else{return _9.Height;}};_=[_7];for(ba=0;ba<=_6.length-1;ba++){_[0]=(bb=_6[ba],bb[0]?(bc=bb[1],(bd=bb[2],_8(_[0])>_8(bd)+1?_8(_[0].Left)===_8(_[0].Right)+1?(be=_[0].Left,c.Branch(be.Node,c.Branch(bc,bd,be.Left),c.Branch(_[0].Node,be.Right,_[0].Right))):c.Branch(_[0].Node,c.Branch(bc,bd,_[0].Left),_[0].Right):c.Branch(bc,bd,_[0]))):(bf=bb[1],(bg=bb[2],_8(_[0])>_8(bg)+1?_8(_[0].Right)===_8(_[0].Left)+1?(bh=_[0].Right,c.Branch(bh.Node,c.Branch(_[0].Node,_[0].Left,bh.Left),c.Branch(bf,bh.Right,bg))):c.Branch(_[0].Node,_[0].Left,c.Branch(bf,_[0].Right,bg)):c.Branch(bf,_[0],bg))));}return _[0];},Remove:function(bh,bi){var bj,bk,bl,bm,bn,bo,bp,bq,br,bt,bv;bj=c.Lookup(bh,bi);bk=bj[0];bl=bj[1];if(bk==null){return bi;}else{if(bk.Right==null){return c.Rebuild(bl,bk.Left);}else{if(bk.Left==null){return c.Rebuild(bl,bk.Right);}else{bm=(bn=(bo=g.append((bp=bk.Left,c.Enumerate(false,bp)),(bq=bk.Right,c.Enumerate(false,bq))),(br=function(bs){return g.toArray(bs);},br(bo))),(bt=function(bu){return c.Build(bu,0,bu.length-1);},bt(bn)));bv=function(bw){return c.Rebuild(bl,bw);};return bv(bm);}}}},TryFind:function(bx,by){var bz;bz=(c.Lookup(bx,by))[0];if(bz==null){return{$:0};}else{return{$:1,$0:bz.Node};}}},Dictionary:$.Class({Add:function(bA,bB){var bC;bC=this.hash.call(null,bA);if(this.data.hasOwnProperty(bC)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bC]={K:bA,V:bB};this.count=this.count+1;}},Clear:function(){this.data={};this.count=0;},ContainsKey:function(bD){return this.data.hasOwnProperty(this.hash.call(null,bD));},GetEnumerator:function(){var bE;bE=h.map($.Tupled(function(bF){return bF[1];}),i.GetFields(this.data));return j.Get(bE);},Remove:function(bG){var bH;bH=this.hash.call(null,bG);if(this.data.hasOwnProperty(bH)){i.Delete(this.data,bH);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bI){var bJ,bK;bJ=this.hash.call(null,bI);if(this.data.hasOwnProperty(bJ)){bK=this.data[bJ];return bK.V;}else{return k.notPresent();}},set_Item:function(bL,bM){var bN;bN=this.hash.call(null,bL);if(!this.data.hasOwnProperty(bN)){this.count=this.count+1;}this.data[bN]={K:bL,V:bM};}},{New:function(bO,bP){var bQ;bQ=l.New11(bO,function(bR){return function(bS){return bP.Equals(bR,bS);};},function(bT){return bP.GetHashCode(bT);});return $.New(this,bQ);},New1:function(bU){var bV;bV=l.New11(bU,function(bW){return function(bX){return m.Equals(bW,bX);};},function(bY){return m.Hash(bY);});return $.New(this,bV);},New11:function(bZ,b0,b1){var b2,b3,b4,b5;b2={};b2.hash=b1;b2.count=0;b2.data={};b3=j.Get(bZ);while(b3.MoveNext()){b4=b3.get_Current();b2.data[b5=b4.K,b2.hash.call(null,b5)]=b4.V;}return $.New(this,b2);},New2:function(){var b6;b6=l.New11([],function(b7){return function(b8){return m.Equals(b7,b8);};},function(b9){return m.Hash(b9);});return $.New(this,b6);},New3:function(b_){var b$;b$=l.New11([],function(ca){return function(cb){return b_.Equals(ca,cb);};},function(cc){return b_.GetHashCode(cc);});return $.New(this,b$);}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},"FSharpMap`2":$.Class({Add:function(cd,ce){var cf,cg,ch;return n.New1((cf=this.tree,(cg=(ch=$.New(o,{Key:cd,Value:ce}),function(ci){return c.Add(ch,ci);}),cg(cf))));},CompareTo:function(cj){return g.compareWith(function(ck){return function(cl){return d.Compare(ck,cl);};},this,cj);},ContainsKey:function(cm){var cn,co,cp;cn=this.tree;co=(cp=$.New(o,{Key:cm,Value:undefined}),function(cq){return c.Contains(cp,cq);});return co(cn);},Equals:function(cr){if(this.get_Count()===cr.get_Count()){return g.forall2(function(cs){return function(ct){return m.Equals(cs,ct);};},this,cr);}else{return false;}},GetEnumerator:function(){var cu,cv,cw,cx,cy;cu=(cv=(cw=this.tree,c.Enumerate(false,cw)),(cx=(cy=function(cz){return{K:cz.Key,V:cz.Value};},function(cA){return g.map(cy,cA);}),cx(cv)));return j.Get(cu);},GetHashCode:function(){var cB;cB=g.toArray(this);return m.Hash(cB);},Remove:function(cC){var cD,cE,cF;return n.New1((cD=this.tree,(cE=(cF=$.New(o,{Key:cC,Value:undefined}),function(cG){return c.Remove(cF,cG);}),cE(cD))));},TryFind:function(cH){var cI,cJ,cK,cL,cN,cO;cI=(cJ=this.tree,(cK=(cL=$.New(o,{Key:cH,Value:undefined}),function(cM){return c.TryFind(cL,cM);}),cK(cJ)));cN=(cO=function(cP){return cP.Value;},function(cQ){return p.map(cO,cQ);});return cN(cI);},get_Count:function(){var cR;cR=this.tree;if(cR==null){return 0;}else{return cR.Count;}},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cS){var cT,cU;cT=this.TryFind(cS);if(cT.$==0){return d.FailWith("The given key was not present in the dictionary.");}else{cU=cT.$0;return cU;}},get_Tree:function(){return this.tree;}},{New:function(cV){var cW;cW=n.New1(q.fromSeq(cV));return $.New(this,cW);},New1:function(cX){var cY;cY={};cY.tree=cX;return $.New(this,cY);}}),"FSharpSet`1":$.Class({Add:function(cZ){return r.New1(c.Add(cZ,this.tree));},CompareTo:function(c0){return g.compareWith(function(c1){return function(c2){return d.Compare(c1,c2);};},this,c0);},Contains:function(c3){return c.Contains(c3,this.tree);},Equals:function(c4){if(this.get_Count()===c4.get_Count()){return g.forall2(function(c5){return function(c6){return m.Equals(c5,c6);};},this,c4);}else{return false;}},GetEnumerator:function(){var c7,c8;c7=(c8=this.tree,c.Enumerate(false,c8));return j.Get(c7);},GetHashCode:function(){var c9;return-1741749453+(c9=g.toArray(this),m.Hash(c9));},IsProperSubsetOf:function(c_){if(this.IsSubsetOf(c_)){return this.get_Count()<c_.get_Count();}else{return false;}},IsProperSupersetOf:function(c$){if(this.IsSupersetOf(c$)){return this.get_Count()>c$.get_Count();}else{return false;}},IsSubsetOf:function(da){return g.forall(function(db){return da.Contains(db);},this);},IsSupersetOf:function(dc){var de=this;return g.forall(function(dd){return de.Contains(dd);},dc);},Remove:function(df){return r.New1(c.Remove(df,this.tree));},get_Count:function(){var dg;dg=this.tree;if(dg==null){return 0;}else{return dg.Count;}},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){var dh;return g.head((dh=this.tree,c.Enumerate(true,dh)));},get_MinimumElement:function(){var di;return g.head((di=this.tree,c.Enumerate(false,di)));},get_Tree:function(){return this.tree;}},{New:function(dj){var dk;dk=r.New1(s.ofSeq(dj));return $.New(this,dk);},New1:function(dl){var dm;dm={};dm.tree=dl;return $.New(this,dm);}}),MapModule:{Exists:function(dn,_do){var dp,dq;dp=(dq=function(dr){return(dn(dr.K))(dr.V);},function(ds){return g.exists(dq,ds);});return dp(_do);},Filter:function(dt,du){var dv,dw,dx,dy,dz,dA,dB,dE,dG,dI;dv=(dw=(dx=(dy=(dz=du.get_Tree(),c.Enumerate(false,dz)),(dA=(dB=function(dC){return(dt(dC.Key))(dC.Value);},function(dD){return g.filter(dB,dD);}),dA(dy))),(dE=function(dF){return g.toArray(dF);},dE(dx))),(dG=function(dH){return c.Build(dH,0,dH.length-1);},dG(dw)));dI=function(dJ){return n.New1(dJ);};return dI(dv);},FindKey:function(dK,dL){var dM,dN;dM=(dN=function(dO){if((dK(dO.K))(dO.V)){return{$:1,$0:dO.K};}else{return{$:0};}},function(dP){return g.pick(dN,dP);});return dM(dL);},Fold:function(dQ,dR,dS){var dT,dU,dV,dW;dT=(dU=dS.get_Tree(),c.Enumerate(false,dU));dV=(dW=function(dX){return function(dY){return((dQ(dX))(dY.Key))(dY.Value);};},function(dZ){return g.fold(dW,dR,dZ);});return dV(dT);},FoldBack:function(d0,d1,d2){var d3,d4,d5,d6;d3=(d4=d1.get_Tree(),c.Enumerate(true,d4));d5=(d6=function(d7){return function(d8){return((d0(d8.Key))(d8.Value))(d7);};},function(d9){return g.fold(d6,d2,d9);});return d5(d3);},ForAll:function(d_,d$){var ea,eb;ea=(eb=function(ec){return(d_(ec.K))(ec.V);},function(ed){return g.forall(eb,ed);});return ea(d$);},Iterate:function(ee,ef){var eg,eh;eg=(eh=function(ei){return(ee(ei.K))(ei.V);},function(ej){return g.iter(eh,ej);});return eg(ef);},Map:function(ek,el){var em,en,eo,ep,eq,er,eu,ew;em=(en=(eo=(ep=el.get_Tree(),c.Enumerate(false,ep)),(eq=(er=function(es){return $.New(o,{Key:es.Key,Value:(ek(es.Key))(es.Value)});},function(et){return g.map(er,et);}),eq(eo))),(eu=function(ev){return c.OfSeq(ev);},eu(en)));ew=function(ex){return n.New1(ex);};return ew(em);},OfArray:function(ey){var ez,eA,eB,eC,eH,eJ;ez=(eA=(eB=(eC=$.Tupled(function(eD){var eE,eF;eE=eD[0];eF=eD[1];return $.New(o,{Key:eE,Value:eF});}),function(eG){return g.map(eC,eG);}),eB(ey)),(eH=function(eI){return c.OfSeq(eI);},eH(eA)));eJ=function(eK){return n.New1(eK);};return eJ(ez);},Partition:function(eL,eM){var eN,eO,eP,eQ,eR,eU,eV,eW,eX;eN=(eO=g.toArray((eP=eM.get_Tree(),c.Enumerate(false,eP))),(eQ=(eR=function(eS){return(eL(eS.Key))(eS.Value);},function(eT){return h.partition(eR,eT);}),eQ(eO)));eU=eN[1];eV=eN[0];return[(eW=c.Build(eV,0,eV.length-1),n.New1(eW)),(eX=c.Build(eU,0,eU.length-1),n.New1(eX))];},Pick:function(eY,eZ){var e0,e1;e0=(e1=function(e2){return(eY(e2.K))(e2.V);},function(e3){return g.pick(e1,e3);});return e0(eZ);},ToSeq:function(e4){var e5,e6,e7,e8;e5=(e6=e4.get_Tree(),c.Enumerate(false,e6));e7=(e8=function(e9){return[e9.Key,e9.Value];},function(e_){return g.map(e8,e_);});return e7(e5);},TryFind:function(e$,fa){return fa.TryFind(e$);},TryFindKey:function(fb,fc){var fd,fe;fd=(fe=function(ff){return(fb(ff.K))(ff.V);},function(fg){return g.tryFind(fe,fg);});return fd(fc);},TryPick:function(fh,fi){var fj,fk;fj=(fk=function(fl){return(fh(fl.K))(fl.V);},function(fm){return g.tryPick(fk,fm);});return fj(fi);}},MapUtil:{fromSeq:function(fn){var fo;fo=g.toArray(g.delay(function(){return g.collect($.Tupled(function(fq){var fr,fs;fr=fq[1];fs=fq[0];return[$.New(o,{Key:fs,Value:fr})];}),g.distinctBy($.Tupled(function(ft){return ft[0];}),fn));}));h.sortInPlace(fo);return c.Build(fo,0,fo.length-1);}},"Pair`2":$.Class({CompareTo:function(fu){return d.Compare(this.Key,fu.Key);},Equals:function(fv){return m.Equals(this.Key,fv.Key);},GetHashCode:function(){var fw;fw=this.Key;return m.Hash(fw);}}),SetModule:{Filter:function(fx,fy){var fz,fA;fz=(fA=g.toArray(g.filter(fx,fy)),c.Build(fA,0,fA.length-1));return r.New1(fz);},FoldBack:function(fB,fC,fD){var fG;return g.fold(function(fE){return function(fF){return(fB(fF))(fE);};},fD,(fG=fC.get_Tree(),c.Enumerate(true,fG)));},Partition:function(fH,fI){var fJ,fK,fL,fM,fN;fJ=h.partition(fH,g.toArray(fI));fK=fJ[1];fL=fJ[0];return[(fM=c.OfSeq(fL),r.New1(fM)),(fN=c.OfSeq(fK),r.New1(fN))];}},SetUtil:{ofSeq:function(fO){var fP;fP=g.toArray(fO);h.sortInPlace(fP);return c.Build(fP,0,fP.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.List);f=$.Safe(e.T);g=$.Safe(a.Seq);h=$.Safe(a.Arrays);i=$.Safe(a.JavaScript);j=$.Safe(a.Enumerator);k=$.Safe(b.DictionaryUtil);l=$.Safe(b.Dictionary);m=$.Safe(a.Unchecked);n=$.Safe(b["FSharpMap`2"]);o=$.Safe(b["Pair`2"]);p=$.Safe(a.Option);q=$.Safe(b.MapUtil);r=$.Safe(b["FSharpSet`1"]);return s=$.Safe(b.SetUtil);});$.OnLoad(function(){});}());
