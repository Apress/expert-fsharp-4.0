(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(u){return b.New(c.ofArray([["Dispose",u]]));}},Event:{"Event`1":$.Class({AddHandler:function(v){return this.Handlers.push(v);},RemoveHandler:function(w){var x,y,z,A,B,C,G,H,K,M;x=(y=(z=(A=this.Handlers,(B=(C=function(D){return function(E){if(d.Equals(E,w)){return{$:1,$0:D};}else{return{$:0};}};},function(F){return e.mapi(C,F);}),B(A))),(G=(H=function(I){return I;},function(J){return e.choose(H,J);}),G(z))),(K=function(L){return c.ofArray(L);},K(y)));if(x.$==1){M=x.$0;return this.Handlers.splice(M,1);}else{return null;}},Subscribe:function(N){var O,R=this;O=function(P){return N.OnNext(P);};this.AddHandler(O);return g.Of(function(){return R.RemoveHandler(O);});},Trigger:function(S){var T;for(T=0;T<=this.Handlers.length-1;T++){this.Handlers[T].call(null,S);}}})},EventModule:{Choose:function(U,V){var W;W=h.New();i.addListener(V,function(X){var Y,Z;Y=U(X);if(Y.$==0){return null;}else{Z=Y.$0;return W.event.Trigger(Z);}});return W.event;},Filter:function(_0,_1){var _2;_2=$.New(k,{Handlers:[]});i.addListener(_1,function(_3){if(_0(_3)){return _2.Trigger(_3);}else{return null;}});return _2;},Map:function(_4,_5){var _6;_6=$.New(k,{Handlers:[]});i.addListener(_5,function(_7){return _6.Trigger(_4(_7));});return _6;},Merge:function(_8,_9){var _;_=$.New(k,{Handlers:[]});i.addListener(_8,function(ba){return _.Trigger(ba);});i.addListener(_9,function(ba){return _.Trigger(ba);});return _;},Pairwise:function(bb){var bc,bd;bc={contents:{$:0}};bd=$.New(k,{Handlers:[]});i.addListener(bb,function(be){var bf,bg;bf=bc.contents;if(bf.$==1){bg=bf.$0;bc.contents={$:1,$0:be};return bd.Trigger([bg,be]);}else{bc.contents={$:1,$0:be};}});return bd;},Partition:function(bh,bi){var bj;return[l.Filter(bh,bi),l.Filter((bj=function(bk){return!bk;},function(bl){return bj(bh(bl));}),bi)];},Scan:function(bm,bn,bo){var bp,bq;bp={contents:bn};bq=function(br){bp.contents=(bm(bp.contents))(br);return bp.contents;};return l.Map(bq,bo);},Split:function(bs,bt){var bu,bv,bA,bB;return[(bu=(bv=function(bw){var bx,by;bx=bs(bw);if(bx.$==0){by=bx.$0;return{$:1,$0:by};}else{return{$:0};}},function(bz){return l.Choose(bv,bz);}),bu(bt)),(bA=(bB=function(bC){var bD,bE;bD=bs(bC);if(bD.$==1){bE=bD.$0;return{$:1,$0:bE};}else{return{$:0};}},function(bF){return l.Choose(bB,bF);}),bA(bt))];}},"FSharpEvent`1":$.Class({},{New:function(){var bG;bG={};bG.event=$.New(k,{Handlers:[]});return $.New(this,bG);}}),HotStream:{"HotStream`1":$.Class({Subscribe:function(bH){var bI,bJ;if(this.Latest.contents.$==1){bH.OnNext(this.Latest.contents.$0);}bI=i.subscribeTo((bJ=this.Event,bJ.event),function(bK){return bH.OnNext(bK);});return bI;},Trigger:function(bL){var bM;this.Latest.contents={$:1,$0:bL};bM=this.Event;return bM.event.Trigger(bL);}},{New:function(){return $.New(n,{Latest:{contents:{$:0}},Event:h.New()});}})},Observable:{Aggregate:function(bN,bO,bP){return o.New(function(bQ){var bR;bR={contents:bO};return i.subscribeTo(bN,function(bS){bR.contents=(bP(bR.contents))(bS);return bQ.OnNext(bR.contents);});});},Choose:function(bT,bU){var bV;bV=function(bW){var bX,b1;bX=function(bY){var bZ,b0;bZ=bT(bY);if(bZ.$==0){return null;}else{b0=bZ.$0;return bW.OnNext(b0);}};b1=p.New(bX,function(b2){return bW.OnError(b2);},function(){return bW.OnCompleted();});return bU.Subscribe(b1);};return o.New(bV);},CombineLatest:function(b4,b5,b6){var b7;b7=function(b8){var b9,b_,b$,ce,cf,cj,ck,co,cp;b9={contents:{$:0}};b_={contents:{$:0}};b$=function(){var cb,cc,cd;cb=[b9.contents,b_.contents];if(cb[0].$==1){if(cb[1].$==1){cc=cb[0].$0;cd=cb[1].$0;return b8.OnNext((b6(cc))(cd));}else{return null;}}else{return null;}};ce=(cf=function(cg){b9.contents={$:1,$0:cg};return b$(null);},p.New(cf,function(ch){ch;},function(ci){ci;}));cj=(ck=function(cl){b_.contents={$:1,$0:cl};return b$(null);},p.New(ck,function(cm){cm;},function(cn){cn;}));co=b4.Subscribe(ce);cp=b5.Subscribe(cj);return g.Of(function(){co.Dispose();return cp.Dispose();});};return o.New(b7);},Concat:function(cr,cs){var ct;ct=function(cu){var cv,cw,cB;cv={contents:{$:0}};cw=cr.Subscribe(p.New(function(cx){return cu.OnNext(cx);},function(cy){cy;},function(){var cA;cv.contents=(cA=cs.Subscribe(cu),{$:1,$0:cA});}));cB=function(){if(cv.contents.$==1){cv.contents.$0.Dispose();}return cw.Dispose();};return g.Of(cB);};return o.New(ct);},Drop:function(cD,cE){var cF;cF=function(cG){var cH,cI,cK;cH={contents:0};cI=function(cJ){q.Increment(cH);if(cH.contents>cD){return cG.OnNext(cJ);}else{return null;}};cK=p.New(cI,function(cL){return cG.OnError(cL);},function(){return cG.OnCompleted();});return cE.Subscribe(cK);};return o.New(cF);},Filter:function(cN,cO){var cP;cP=function(cQ){var cR,cT;cR=function(cS){if(cN(cS)){return cQ.OnNext(cS);}else{return null;}};cT=p.New(cR,function(cU){return cQ.OnError(cU);},function(){return cQ.OnCompleted();});return cO.Subscribe(cT);};return o.New(cP);},Map:function(cW,cX){var cY;cY=function(cZ){var c0,c2;c0=function(c1){return cZ.OnNext(cW(c1));};c2=p.New(c0,function(c3){return cZ.OnError(c3);},function(){return cZ.OnCompleted();});return cX.Subscribe(c2);};return o.New(cY);},Merge:function(c5,c6){var c7;c7=function(c8){var c9,c_,c$,da,de,dg,dh,dl;c9={contents:false};c_={contents:false};c$=(da=p.New(function(db){return c8.OnNext(db);},function(dc){dc;},function(){c9.contents=true;if(c9.contents?c_.contents:false){return c8.OnCompleted();}else{return null;}}),(de=function(df){return c5.Subscribe(df);},de(da)));dg=(dh=p.New(function(di){return c8.OnNext(di);},function(dj){dj;},function(){c_.contents=true;if(c9.contents?c_.contents:false){return c8.OnCompleted();}else{return null;}}),(dl=function(dm){return c6.Subscribe(dm);},dl(dh)));return g.Of(function(){c$.Dispose();return dg.Dispose();});};return o.New(c7);},Never:function(){return o.New(function(){return g.Of(function(dp){dp;});});},New:function(dq){return $.New(r,{Subscribe1:dq});},"Observable`1":$.Class({Subscribe:function(dr){return this.Subscribe1.call(null,dr);}}),Of:function(ds){return o.New(function(dt){return g.Of(ds(function(du){return dt.OnNext(du);}));});},Range:function(dv,dw){var dx;dx=function(dy){var dz;for(dz=dv;dz<=dv+dw;dz++){dy.OnNext(dz);}return g.Of(function(dA){dA;});};return o.New(dx);},Return:function(dB){var dC;dC=function(dD){dD.OnNext(dB);dD.OnCompleted();return g.Of(function(dE){dE;});};return o.New(dC);},SelectMany:function(dF){return o.New(function(dG){var dH,dJ;dH={contents:function(dI){dI;}};dJ=i.subscribeTo(dF,function(dK){var dL;dL=i.subscribeTo(dK,function(dM){return dG.OnNext(dM);});dH.contents=function(){dH.contents.call(null,null);return dL.Dispose();};});return g.Of(function(){dH.contents.call(null,null);return dJ.Dispose();});});},Sequence:function(dP){var dQ;dQ=function(dR){var dS,dT,dU;if(dR.$==1){dS=dR.$1;dT=dR.$0;dU=dQ(dS);return o.CombineLatest(dT,dU,function(dV){return function(dW){return $.New(s,{$:1,$0:dV,$1:dW});};});}else{return o.Return($.New(s,{$:0}));}};return dQ(c.ofSeq(dP));},Switch:function(dX){return o.New(function(dY){var dZ,d0,d1;dZ=(d0={contents:0},(d1={contents:{$:0}},i.subscribeTo(dX,function(d2){var d3,d4,d5,d7;q.Increment(d0);if(d1.contents.$==1){d1.contents.$0.Dispose();}d3=d0.contents;d4=(d5=i.subscribeTo(d2,function(d6){if(d3===d0.contents){return dY.OnNext(d6);}else{return null;}}),(d7=function(d8){return{$:1,$0:d8};},d7(d5)));d1.contents=d4;})));return dZ;});}},ObservableModule:{Pairwise:function(d9){var d_,d$,ea,eb,ei,ej;d_=(d$=[{$:0},{$:0}],(ea=(eb=$.Tupled(function(ec){var ed,ee;ed=ec[0];ee=ec[1];return function(ef){return[ee,{$:1,$0:ef}];};}),$.Tupled(function(eg){return function(eh){return t.Scan(eb,eg,eh);};})),(ea(d$))(d9)));ei=(ej=$.Tupled(function(ek){var el,em;if(ek[0].$==1){if(ek[1].$==1){el=ek[0].$0;em=ek[1].$0;return{$:1,$0:[el,em]};}else{return{$:0};}}else{return{$:0};}}),function(en){return o.Choose(ej,en);});return ei(d_);},Partition:function(eo,ep){var eq,er;return[o.Filter(eo,ep),(eq=(er=function(es){return!es;},function(et){return er(eo(et));}),o.Filter(eq,ep))];},Scan:function(eu,ev,ew){var ex,ey;ex={contents:ev};ey=function(ez){ex.contents=(eu(ex.contents))(ez);return ex.contents;};return o.Map(ey,ew);},Split:function(eA,eB){var eC,eD,eE,eJ,eK,eL;eC=(eD=(eE=function(eF){var eG,eH;eG=eA(eF);if(eG.$==0){eH=eG.$0;return{$:1,$0:eH};}else{return{$:0};}},function(eI){return o.Choose(eE,eI);}),eD(eB));eJ=(eK=(eL=function(eM){var eN,eO;eN=eA(eM);if(eN.$==1){eO=eN.$0;return{$:1,$0:eO};}else{return{$:0};}},function(eP){return o.Choose(eL,eP);}),eK(eB));return[eC,eJ];}},Observer:{New:function(eQ,eR,eS){return{OnNext1:eQ,OnError1:eR,OnCompleted1:eS};},Of:function(eT){return{OnNext1:eT,OnError1:function(eU){return q.Raise(eU);},OnCompleted1:function(){return null;}};}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Pervasives);c=$.Safe(a.List);d=$.Safe(a.Unchecked);e=$.Safe(a.Arrays);f=$.Safe(a.Control);g=$.Safe(f.Disposable);h=$.Safe(f["FSharpEvent`1"]);i=$.Safe(a.Util);j=$.Safe(f.Event);k=$.Safe(j["Event`1"]);l=$.Safe(f.EventModule);m=$.Safe(f.HotStream);n=$.Safe(m["HotStream`1"]);o=$.Safe(f.Observable);p=$.Safe(f.Observer);q=$.Safe(a.Operators);r=$.Safe(o["Observable`1"]);s=$.Safe(c.T);return t=$.Safe(f.ObservableModule);});$.OnLoad(function(){});}());
